name: Env Context Demo

on:
  workflow_dispatch

env: 
  WORKFLOW_LEVEL: "Workflow scope variable"

jobs: 
  show-env:
    runs-on: ubuntu-latest
    env:
      JOB_LEVEL: "Job scope variable"
    steps:
      - name: Step with its own env
        env:
          STEP_LEVEL1: "Step scope variable 1"
        run: |
          echo "Workflow level: $WORKFLOW_LEVEL"
          echo "Job level: $JOB_LEVEL"
          echo "Step level: $STEP_LEVEL1"
    
      - name: Try to access STEP_LEVEL1 in another step
        env:
          STEP_LEVEL2: "Step scope variable 2"
        run: |
          if [ -z "$STEP_LEVEL1" ]; then
            echo "STEP_LEVEL1 is not available in this step â€” fallback message shown."
          else
            echo "STEP_LEVEL1 is: $STEP_LEVEL1"
          fi
        # -z tests if a variable is eiher unset or empty
